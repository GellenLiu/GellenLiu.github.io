(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22c50f"],{f35a:function(n,t,e){"use strict";e.r(t);var r=function(){var n=this,t=n._self._c;n._self._setupProxy;return t("div",{staticClass:"demo-content"},[t("demo-info",n._b({},"demo-info",n.demoInfo,!1)),t("div",[t("el-input",{attrs:{placeholder:"input your message"},model:{value:n.inputContent,callback:function(t){n.inputContent=t},expression:"inputContent"}}),t("el-button",{on:{click:n.transform}},[n._v("转换")]),t("div",{staticClass:"show-wrap"},[t("div",{domProps:{innerHTML:n._s(n.hyperLinkcontent)}})])],1),t("code-show",{attrs:{code:n.codeContent}})],1)},s=[],o=e("9ab4"),l=e("1b40"),c=e("766a"),a="function htmlDecode(str: string): string {\n    let s = '';\n    if (str.length == 0) return '';\n    s = str.replace(/&amp;/g, '&');\n    s = s.replace(/&lt;/g, '<');\n    s = s.replace(/&gt;/g, '>');\n    s = s.replace(/&nbsp;/g, ' ');\n    s = s.replace(/&#39;/g, \"'\");\n    s = s.replace(/&quot;/g, '\"');\n    s = s.replace(/&ldquo;/g, '“');\n    s = s.replace(/&rdquo;/g, '”');\n    s = s.replace(/&yen;/g, '¥');\n    return s;\n}\n\nfunction htmlEncode(str) {\n    let s = '';\n    if (str.length == 0) return '';\n    s = s.replace(/</g, '&lt;');\n    s = s.replace(/>/g, '&gt;');\n    s = s.replace(/ /g, '&nbsp;');\n    s = s.replace(/'/g, '&#39;');\n    s = s.replace(/\"/g, '&quot;');\n    s = s.replace(/“/g, '&ldquo;');\n    s = s.replace(/”/g, '&rdquo;');\n    s = s.replace(/¥/g, '&yen;');\n    s = str.replace(/&/g, '&amp;');\n    return s;\n}\nfixLink(str: string) {\n    if (!str.startsWith('http')) {\n        return '//' + str;\n    }\n    return str;\n}\n\n/**\n * 将文本中的链接识别出来并转为JSON\n */\ntransformLinks(str: string) {\n    const that = this;\n    /** 这里可以这样判定当前信息是否为图片是因为信息为图片时是一条单独的信息，且不会被转义, 若是用户输入的内容会被转义 */\n    if (str.startsWith('<img')) return str;\n\n    const normalStr = that.htmlDecode(str);\n    /** 正常匹配url正则即可 */\n    const urlReg =\n        /(https?://)?(www.)?[-a-zA-Z0-9@:%._+~#=]{1,256}.(com|edu|gov|int|net|org|info|cn|mo|tw|hk|io){1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=;]*)/g;\n    const urls: string[] = [];\n    const link = normalStr.replace(urlReg, function ($0) {\n        urls.push($0);\n        return LINK_IDENTIFICATION;\n    });\n    const encodeStr = this.htmlEncode(link);\n    const reg = new RegExp(LINK_IDENTIFICATION, 'g');\n    return encodeStr.replace(reg, function () {\n        const url = urls.shift() || '';return `<a href=\"${that.fixLink(url)}\" target=\"_blank\" class=\"msg-link\">${url}</a>`;\n    });\n}\n",i=e("ef13"),p=e("dc19");let u="TElOS19JREVOVElGSUNBVElPTg==",g=class extends l["c"]{constructor(){super(...arguments),this.demoInfo={author:"gellenliu",likes:"999+",labels:["javascript"]},this.codeContent=a,this.inputContent="",this.hyperLinkcontent=""}mounted(){}transform(){this.hyperLinkcontent=this.transformLinks(this.inputContent)}htmlDecode(n){let t="";return 0==n.length?"":(t=n.replace(/&amp;/g,"&"),t=t.replace(/&lt;/g,"<"),t=t.replace(/&gt;/g,">"),t=t.replace(/&nbsp;/g," "),t=t.replace(/&#39;/g,"'"),t=t.replace(/&quot;/g,'"'),t)}htmlEncode(n){let t="";return 0==n.length?"":(t=n.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/ /g,"&nbsp;"),t=t.replace(/\'/g,"&#39;"),t=t.replace(/\"/g,"&quot;"),t)}fixLink(n){return n.startsWith("http")?n:"//"+n}transformLinks(n){const t=this;if(n.startsWith("<img"))return n;const e=t.htmlDecode(n),r=/(https?:\/\/)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.(com|edu|gov|int|net|org|info|cn|mo|tw|hk|io){1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=;]*)/g,s=[],o=e.replace(r,(function(n){return s.push(n),u})),l=this.htmlEncode(o),c=new RegExp(u,"g");return l.replace(c,(function(){const n=s.shift()||"";return`<a href="${t.fixLink(n)}" target="_blank" class="msg-link">${n}</a>`}))}};g=Object(o["a"])([Object(l["a"])({components:{Editor:c["a"],DemoInfo:p["a"],CodeShow:i["a"]}})],g);var h=g,d=h,f=(e("7137"),e("2877")),m=Object(f["a"])(d,r,s,!1,null,null,null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d22c50f.129b6d85.js.map