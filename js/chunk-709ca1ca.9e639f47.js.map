{"version":3,"sources":["webpack:///./src/views/shareScreen/index.vue","webpack:///./src/data/codes/shareScreen/index.js","webpack:///./src/views/shareScreen/index.vue?5e53","webpack:///./src/views/shareScreen/index.vue?ecac","webpack:///./src/views/shareScreen/index.vue?39b3","webpack:///./src/views/shareScreen/index.vue?3596"],"names":["render","_vm","this","_c","_self","_setupProxy","staticClass","_b","demoInfo","attrs","on","startShare","_v","stopShare","codes","staticRenderFns","ShareScreen","Vue","constructor","author","likes","labels","stream","codeContent","mounted","that","console","log","options","video","cursor","audio","startCapture","displayMediaOptions","captureStream","navigator","mediaDevices","getDisplayMedia","live","err","error","document","getElementById","srcObject","controls","play","pushStream","Component","components","Editor","DemoInfo","CodeShow","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAUF,EAAIG,MAAMC,YAAY,OAAOF,EAAG,MAAM,CAACG,YAAY,gBAAgB,CAACH,EAAG,YAAYF,EAAIM,GAAG,GAAG,YAAYN,EAAIO,UAAS,IAAQL,EAAG,QAAQ,CAACG,YAAY,QAAQG,MAAM,CAAC,GAAK,WAAWN,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,MAAM,CAACG,YAAY,YAAYI,GAAG,CAAC,MAAQT,EAAIU,aAAa,CAACV,EAAIW,GAAG,UAAUT,EAAG,MAAM,CAACG,YAAY,WAAWI,GAAG,CAAC,MAAQT,EAAIY,YAAY,CAACZ,EAAIW,GAAG,YAAYT,EAAG,YAAY,CAACM,MAAM,CAAC,KAAOR,EAAIa,UAAU,IAEreC,EAAkB,G,oCCFN,knB,wBCUhB,IAAqBC,EAArB,cAAyCC,OAAzCC,c,oBACE,KAAAV,SAAW,CACLW,OAAQ,YACRC,MAAO,MACPC,OAAQ,CACJ,aACA,QAGV,KAAAP,MAAQA,EAIR,KAAAQ,OAAc,KAsDd,KAAAC,YAAcT,EAzDdU,WAIAb,aACE,IAAIc,EAAOvB,KACXwB,QAAQC,IAAI,gBACZ,IAAIC,EAAU,CACZC,MAAO,CACLC,OAAQ,UAEVC,OAAO,GAETN,EAAKO,aAAaJ,GAEpBf,YACEa,QAAQC,IAAI,UAEI,mBAACM,GACjB,IAAIR,EAAOvB,KACPgC,EAAgB,KACpB,IACEA,QAAsBC,UAAUC,aAAaC,gBAC3CJ,GAEFR,EAAKH,OAASY,EACdT,EAAKa,KAAKJ,GACVR,QAAQC,IAAI,gBACZD,QAAQC,IAAIO,GAaZ,MAAOK,GACPb,QAAQc,MAAM,UAAYD,GAE5B,OAAOL,EAGTI,KAAKhB,GACH,MAAMO,EAAaY,SAASC,eAAe,SAC3Cb,EAAMc,UAAYrB,EAClBO,EAAMe,UAAW,EACjBf,EAAMgB,OAGRC,gBAhEmB9B,EAAW,gBAH/B+B,eAAU,CACTC,WAAY,CAACC,cAAOC,gBAAUC,oBAEXnC,WCV6X,I,wBCQ9YoC,EAAY,eACd,EACApD,EACAe,GACA,EACA,KACA,KACA,MAIa,aAAAqC,E,kECnBf","file":"js/chunk-709ca1ca.9e639f47.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"share-screen\"},[_c('demo-info',_vm._b({},'demo-info',_vm.demoInfo,false)),_c('video',{staticClass:\"video\",attrs:{\"id\":\"video\"}}),_c('div',{staticClass:\"btn-wrap\"},[_c('div',{staticClass:\"start-btn\",on:{\"click\":_vm.startShare}},[_vm._v(\"开始共享\")]),_c('div',{staticClass:\"stop-btn\",on:{\"click\":_vm.stopShare}},[_vm._v(\"结束共享\")])]),_c('code-show',{attrs:{\"code\":_vm.codes}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default `let options = {\n    video: {\n      cursor: \"always\",\n    },\n    audio: false,\n  };\nasync startCapture(displayMediaOptions: any) {\n  let that = this;\n  let captureStream = null;\n  try {\n    captureStream = await navigator.mediaDevices.getDisplayMedia(\n      displayMediaOptions\n    );\n    that.stream = captureStream;\n    that.live(captureStream);\n  } catch (err) {\n    console.error(\"Error: \" + err);\n  }\n  return captureStream;\n} // 创建一个video标签进行播放流\nlive(stream: any) {\n  const video: any = document.getElementById(\"video\");\n  video.srcObject = stream;\n  video.controls = true;\n  video.play();\n}`\n","\r\nimport { Component, Vue } from \"vue-property-decorator\";\r\nimport Editor from '@/components/monacoEditor.vue';\r\nimport codes from '@/data/codes/shareScreen/index';\r\nimport CodeShow from '@/components/CodeShow.vue';\r\nimport DemoInfo from '@/components/DemoInfo.vue';\r\n\r\n@Component({\r\n  components: {Editor,DemoInfo, CodeShow},\r\n})\r\nexport default class ShareScreen extends Vue {\r\n  demoInfo = {\r\n        author: 'gellenliu',\r\n        likes: '101',\r\n        labels: [\r\n            'javascript',\r\n            'API'\r\n        ]\r\n    }\r\n  codes = codes;\r\n  mounted() {\r\n  }\r\n\r\n  stream: any = null;\r\n  startShare() {\r\n    let that = this;\r\n    console.log(\"开始共享屏幕......\");\r\n    let options = {\r\n      video: {\r\n        cursor: \"always\",\r\n      },\r\n      audio: false,\r\n    };\r\n    that.startCapture(options);\r\n  }\r\n  stopShare() {\r\n    console.log(\"结束共享屏幕\");\r\n  }\r\n  async startCapture(displayMediaOptions: any) {\r\n    let that = this;\r\n    let captureStream = null;\r\n    try {\r\n      captureStream = await navigator.mediaDevices.getDisplayMedia(\r\n        displayMediaOptions\r\n      );\r\n      that.stream = captureStream;\r\n      that.live(captureStream);\r\n      console.log(\"captureSream\");\r\n      console.log(captureStream);\r\n      //noSysPermission （无系统权限）\r\n      //noPermission (没点确定)\r\n      /*\r\n    MediaStream {id: 'hW1oXkU2lBWzXvaHphmc7143NvEgzcrDWUeT', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}\r\nactive: true\r\nid: \"hW1oXkU2lBWzXvaHphmc7143NvEgzcrDWUeT\"\r\nonactive: null\r\nonaddtrack: null\r\noninactive: null\r\nonremovetrack: null\r\n[[Prototype]]: MediaStream\r\n     */\r\n    } catch (err) {\r\n      console.error(\"Error: \" + err);\r\n    }\r\n    return captureStream;\r\n  }\r\n  // 创建一个video标签进行播放流\r\n  live(stream: any) {\r\n    const video: any = document.getElementById(\"video\");\r\n    video.srcObject = stream;\r\n    video.controls = true;\r\n    video.play();\r\n  }\r\n\r\n  pushStream() {\r\n    // 通过webRTC进行推流\r\n  }\r\n  codeContent = codes as string;\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=b9479e4c&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=b9479e4c&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=b9479e4c&prod&lang=css&\""],"sourceRoot":""}