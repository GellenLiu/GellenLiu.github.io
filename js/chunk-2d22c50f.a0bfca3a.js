(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22c50f"],{f35a:function(t,n,e){"use strict";e.r(n);var r=function(){var t=this,n=t._self._c;t._self._setupProxy;return n("div",{staticClass:"demo-content"},[n("div",[n("el-input",{attrs:{placeholder:"input your message"},model:{value:t.inputContent,callback:function(n){t.inputContent=n},expression:"inputContent"}}),n("el-button",{on:{click:t.transform}},[t._v("转换")]),n("div",{staticClass:"show-wrap"},[n("div",{domProps:{innerHTML:t._s(t.hyperLinkcontent)}})])],1),n("code-show",{attrs:{code:t.codeContent}})],1)},s=[],o=e("9ab4"),c=e("1b40"),l=e("5c96"),a=e("766a"),i="function htmlDecode(str: string): string {\n    let s = '';\n    if (str.length == 0) return '';\n    s = str.replace(/&amp;/g, '&');\n    s = s.replace(/&lt;/g, '<');\n    s = s.replace(/&gt;/g, '>');\n    s = s.replace(/&nbsp;/g, ' ');\n    s = s.replace(/&#39;/g, \"'\");\n    s = s.replace(/&quot;/g, '\"');\n    s = s.replace(/&ldquo;/g, '“');\n    s = s.replace(/&rdquo;/g, '”');\n    s = s.replace(/&yen;/g, '¥');\n    return s;\n}\n\nfunction htmlEncode(str) {\n    let s = '';\n    if (str.length == 0) return '';\n    s = s.replace(/</g, '&lt;');\n    s = s.replace(/>/g, '&gt;');\n    s = s.replace(/ /g, '&nbsp;');\n    s = s.replace(/'/g, '&#39;');\n    s = s.replace(/\"/g, '&quot;');\n    s = s.replace(/“/g, '&ldquo;');\n    s = s.replace(/”/g, '&rdquo;');\n    s = s.replace(/¥/g, '&yen;');\n    s = str.replace(/&/g, '&amp;');\n    return s;\n}\nfixLink(str: string) {\n    if (!str.startsWith('http')) {\n        return '//' + str;\n    }\n    return str;\n}\n\n/**\n * 将文本中的链接识别出来并转为JSON\n */\ntransformLinks(str: string) {\n    const that = this;\n    /** 这里可以这样判定当前信息是否为图片是因为信息为图片时是一条单独的信息，且不会被转义, 若是用户输入的内容会被转义 */\n    if (str.startsWith('<img')) return str;\n\n    const normalStr = that.htmlDecode(str);\n    /** 正常匹配url正则即可 */\n    const urlReg =\n        /(https?://)?(www.)?[-a-zA-Z0-9@:%._+~#=]{1,256}.(com|edu|gov|int|net|org|info|cn|mo|tw|hk|io){1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=;]*)/g;\n    const urls: string[] = [];\n    const link = normalStr.replace(urlReg, function ($0) {\n        urls.push($0);\n        return LINK_IDENTIFICATION;\n    });\n    const encodeStr = this.htmlEncode(link);\n    const reg = new RegExp(LINK_IDENTIFICATION, 'g');\n    return encodeStr.replace(reg, function () {\n        const url = urls.shift() || '';return `<a href=\"${that.fixLink(url)}\" target=\"_blank\" class=\"msg-link\">${url}</a>`;\n    });\n}\n",p=e("ef13");let u="TElOS19JREVOVElGSUNBVElPTg==",g=class extends c["c"]{constructor(){super(...arguments),this.codeContent=i,this.inputContent="",this.hyperLinkcontent=""}mounted(){}transform(){this.hyperLinkcontent=this.transformLinks(this.inputContent)}htmlDecode(t){let n="";return 0==t.length?"":(n=t.replace(/&amp;/g,"&"),n=n.replace(/&lt;/g,"<"),n=n.replace(/&gt;/g,">"),n=n.replace(/&nbsp;/g," "),n=n.replace(/&#39;/g,"'"),n=n.replace(/&quot;/g,'"'),n)}htmlEncode(t){let n="";return 0==t.length?"":(n=t.replace(/&/g,"&amp;"),n=n.replace(/</g,"&lt;"),n=n.replace(/>/g,"&gt;"),n=n.replace(/ /g,"&nbsp;"),n=n.replace(/\'/g,"&#39;"),n=n.replace(/\"/g,"&quot;"),n)}fixLink(t){return t.startsWith("http")?t:"//"+t}transformLinks(t){const n=this;if(t.startsWith("<img"))return t;const e=n.htmlDecode(t),r=/(https?:\/\/)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.(com|edu|gov|int|net|org|info|cn|mo|tw|hk|io){1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=;]*)/g,s=[],o=e.replace(r,(function(t){return s.push(t),u})),c=this.htmlEncode(o),l=new RegExp(u,"g");return c.replace(l,(function(){const t=s.shift()||"";return`<a href="${n.fixLink(t)}" target="_blank" class="msg-link">${t}</a>`}))}copy(t,n,e){if(navigator.clipboard)navigator.clipboard.writeText(t).then((function(){n&&n()}),(function(t){e&&e()}));else{let t=document.createElement("textarea");t.value=window.location.href,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy"),n&&n()}catch(r){e&&e()}document.body.removeChild(t)}}copyCodeContent(){this.copy(this.codeContent,()=>{l["Message"].success("复制成功")},()=>{l["Message"].error("复制失败")})}};g=Object(o["a"])([Object(c["a"])({components:{Editor:a["a"],CodeShow:p["a"]}})],g);var h=g,d=h,f=(e("7137"),e("2877")),m=Object(f["a"])(d,r,s,!1,null,null,null);n["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d22c50f.a0bfca3a.js.map