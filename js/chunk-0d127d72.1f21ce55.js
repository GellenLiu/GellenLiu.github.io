(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d127d72"],{"47ed":function(t,e,a){},"629a":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"share-screen"},[e("video",{staticClass:"video",attrs:{id:"video"}}),e("div",{staticClass:"btn-wrap"},[e("div",{staticClass:"start-btn",on:{click:t.startShare}},[t._v("开始共享")]),e("div",{staticClass:"stop-btn",on:{click:t.stopShare}},[t._v("结束共享")])]),e("div",{staticClass:"code-wrap"},[e("div",{staticClass:"code-header-wrap"},[e("div",{staticClass:"code-title"},[t._v("Code Demo:")]),e("div",{staticClass:"copy-btn",on:{click:t.copyCodeContent}},[t._v("copy")])]),e("Editor",{staticClass:"editor",attrs:{codes:t.codeContent,readOnly:!0}})],1)])},s=[],n=a("9ab4"),r=a("1b40"),c=a("766a"),i={copy:d},l=i;function d(t,e,a){if(navigator.clipboard)navigator.clipboard.writeText(t).then((function(){e&&e()}),(function(t){a&&a()}));else{let t=document.createElement("textarea");t.value=window.location.href,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy"),e&&e()}catch(o){a&&a()}document.body.removeChild(t)}}var u=a("5c96"),p='let options = {\n    video: {\n      cursor: "always",\n    },\n    audio: false,\n  };\nasync startCapture(displayMediaOptions: any) {\n  let that = this;\n  let captureStream = null;\n  try {\n    captureStream = await navigator.mediaDevices.getDisplayMedia(\n      displayMediaOptions\n    );\n    that.stream = captureStream;\n    that.live(captureStream);\n  } catch (err) {\n    console.error("Error: " + err);\n  }\n  return captureStream;\n} // 创建一个video标签进行播放流\nlive(stream: any) {\n  const video: any = document.getElementById("video");\n  video.srcObject = stream;\n  video.controls = true;\n  video.play();\n}';let v=class extends r["c"]{constructor(){super(...arguments),this.stream=null,this.codeContent=p}mounted(){console.log(p)}startShare(){let t=this;console.log("开始共享屏幕......");let e={video:{cursor:"always"},audio:!1};t.startCapture(e)}stopShare(){console.log("结束共享屏幕")}async startCapture(t){let e=this,a=null;try{a=await navigator.mediaDevices.getDisplayMedia(t),e.stream=a,e.live(a),console.log("captureSream"),console.log(a)}catch(o){console.error("Error: "+o)}return a}live(t){const e=document.getElementById("video");e.srcObject=t,e.controls=!0,e.play()}pushStream(){}copyCodeContent(){l.copy(this.codeContent,()=>{u["Message"].success("复制成功")},()=>{u["Message"].error("复制失败")})}};v=Object(n["a"])([Object(r["a"])({components:{Editor:c["a"]}})],v);var y=v,m=y,h=(a("813e"),a("2877")),C=Object(h["a"])(m,o,s,!1,null,null,null);e["default"]=C.exports},"813e":function(t,e,a){"use strict";a("47ed")}}]);
//# sourceMappingURL=chunk-0d127d72.1f21ce55.js.map